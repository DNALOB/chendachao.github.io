{"version":3,"sources":["webpack:///./src/app/components/tooltip.js"],"names":["TooltipAndPopover","template","document","getElementById","container","createElement","commonConig","allowHTML","arrow","roundArrow","theme","interactive","animation","isPC","inertia","moveTransition","appendTo","body","setTimeout","tippyInstances","tippy","singleton","createSingleton","isIE","appendChild","importNode","content","toggleScale","event","classList","toggle","duration","onShown","instance","popper","qrCode","querySelector","addEventListener","querySelectorAll","forEach","i18nLabel","console","log","i18nId","dataset","innerHTML","i18n","format","onHide","remove","removeEventListener"],"mappings":"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","file":"10.f30257fb22b739c89751.bundle.js","sourcesContent":["import tippy, { createSingleton, roundArrow } from 'tippy.js';\nimport 'tippy.js/dist/tippy.css'; // optional for styling\nimport 'tippy.js/dist/svg-arrow.css';\nimport 'tippy.js/themes/light-border.css';\nimport 'tippy.js/dist/backdrop.css';\n\nimport 'tippy.js/animations/scale.css';\nimport 'tippy.js/animations/scale-subtle.css';\nimport 'tippy.js/animations/scale-extreme.css';\n\nimport 'tippy.js/animations/perspective.css';\nimport 'tippy.js/animations/perspective-subtle.css';\nimport 'tippy.js/animations/perspective-extreme.css';\n\n// import 'tippy.js/animations/shift-away.css';\n// import 'tippy.js/animations/shift-away-subtle.css';\n// import 'tippy.js/animations/shift-away-extreme.css';\n\n// import 'tippy.js/animations/shift-toward.css';\n// import 'tippy.js/animations/shift-toward-subtle.css';\n// import 'tippy.js/animations/shift-toward-extreme.css';\n\nimport { isIE, isPC } from '../utils';\n\nimport i18n from '../utils/i18n';\n\nfunction TooltipAndPopover() {\n  const template = document.getElementById('wechat-popup');\n  const container = document.createElement('div');\n  const commonConig = {\n    allowHTML: true,\n    arrow: roundArrow,\n    // trigger: 'click',\n    // placement: 'left',\n    // theme: 'light-border',\n    theme: 'gradient',\n    interactive: true,\n    animation: isPC() ? 'scale' : 'perspective',\n    inertia: true,\n    moveTransition: 'transform 0.2s ease-out',\n    appendTo: document.body,\n  };\n\n  // Common tooltip\n  if(isPC()) {\n    setTimeout(() => {\n      const tippyInstances = tippy('[data-tooltip]');\n      const singleton = createSingleton(tippyInstances, commonConig);\n    });\n  } else {\n    setTimeout(() => {\n      tippy('[data-tooltip]', commonConig);\n    });\n  }\n\n  // show the popup of wechat qrCode\n  if (isIE()) {\n    container.appendChild(template);\n  } else {\n    container.appendChild(document.importNode(template.content, true));\n    // const clone = template.content.cloneNode(true);\n    // container.appendChild(clone);\n  }\n\n  // click to scale qrcode\n  function toggleScale(event) {\n    if (isIE()) {\n      setTimeout(() => {\n        this.classList.toggle('scale');\n      }, 800);\n    } else {\n      this.classList.toggle('scale');\n    }\n  }\n\n  // wechat qrcode popup\n  tippy('#wechat', {\n    ...commonConig,\n    theme: 'light-border',\n    content: container,\n    // trigger: 'click',\n    duration: [675, 1000],\n    onShown: instance => {\n      const content = instance.popper;\n      const qrCode = content.querySelector('.tippy-box');\n      qrCode.addEventListener('click', toggleScale, true);\n      content.querySelectorAll('[data-i18n-id]').forEach(i18nLabel => {\n        console.log('i18nLabel', i18nLabel);\n        const {i18nId} = i18nLabel.dataset;\n        i18nLabel.innerHTML = i18n.format(i18nId);\n      });\n    },\n    onHide: instance => {\n      const content = instance.popper;\n      const qrCode = content.querySelector('.tippy-box');\n      qrCode.classList.remove('scale');\n      qrCode.removeEventListener('click', toggleScale, true);\n    },\n  });\n}\n\nexport default TooltipAndPopover;\n"],"sourceRoot":""}