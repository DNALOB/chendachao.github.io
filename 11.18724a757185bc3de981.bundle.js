(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{rDv0:function(e,t,o){"use strict";o.r(t);var n=o("0FX9"),i=o.n(n),a=o("pWKE");t.default=function(){var e=/localhost|127.0.0.1/.test(window.location.origin)?"https://chendachao.github.io":window.location.origin,t=document.querySelector("#dialog"),o=document.querySelectorAll(".dialog-dismiss-trigger"),n=document.querySelector(".qrcode-handler");function c(){t.classList.add("shake"),setTimeout((function(){return t.classList.remove("shake")}),300)}a.a.registerDialog(t),n.addEventListener("click",(function(){t.showModal(),t.classList.add("appear-from-top"),setTimeout((function(){t.classList.remove("appear-from-top")}),500);var o=document.querySelector(".mobile-qrcode");o.setAttribute("alt",e);var n=document.createElement("canvas");i.a.toCanvas(n,e,{width:320,height:320,margin:1.5,errorCorrectionLevel:"H",quality:1,version:4}).then((function(e){var t=30,n=30,i=e.getContext("2d"),a=new Image;a.src="favicon.ico",a.onload=function(){i.drawImage(a,e.width/2-t/2,e.height/2-n/2,t,n),o.src=e.toDataURL("image/png")}})).catch((function(t){o.setAttribute("alt","Failed to generate QRCode, please visit ".concat(e)),console.error(t)}))})),o.forEach((function(e){e.addEventListener("click",(function(){t.classList.add("disappear-from-top"),setTimeout((function(){t.classList.remove("disappear-from-top"),t.close()}),300)}))})),t.addEventListener("click",(function(e){var o=t.getBoundingClientRect();o.top<=e.clientY&&e.clientY<=o.bottom&&o.left<=e.clientX&&e.clientX<=o.right||c()})),t.addEventListener("cancel",(function(e){e.preventDefault(),c()}))}}}]);