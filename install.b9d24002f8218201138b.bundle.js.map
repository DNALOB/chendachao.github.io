{"version":3,"sources":["webpack:///./src/install.js"],"names":["deferredInstallPrompt","installButton","document","getElementById","addEventListener","installPWA","window","saveBeforeInstallPromptEvent","matchMedia","matches","console","log","setAttribute","removeAttribute","navigator","standalone","evt","prompt","srcElement","userChoice","then","choice","outcome","logAppInstalled"],"mappings":";;;;;;;;;AAAA;AAEA,IAAIA,qBAAqB,GAAG,IAA5B;AACA,IAAMC,aAAa,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAtB;AACAF,aAAa,CAACG,gBAAd,CAA+B,OAA/B,EAAwCC,UAAxC,E,CAEA;;AACAC,MAAM,CAACF,gBAAP,CAAwB,qBAAxB,EAA+CG,4BAA/C,E,CAEA;;AACA,IAAID,MAAM,CAACE,UAAP,CAAkB,4BAAlB,EAAgDC,OAApD,EAA6D;AAC3DC,SAAO,CAACC,GAAR,CAAY,4BAAZ;AACAV,eAAa,CAACW,YAAd,CAA2B,QAA3B,EAAqC,EAArC;AACD,CAHD,MAGO;AACLZ,uBAAqB,IAAIC,aAAa,CAACY,eAAd,CAA8B,QAA9B,CAAzB;AACD,C,CAED;;;AACA,IAAIP,MAAM,CAACQ,SAAP,CAAiBC,UAAjB,KAAgC,IAApC,EAA0C;AACxCL,SAAO,CAACC,GAAR,CAAY,4BAAZ;AACAV,eAAa,CAACW,YAAd,CAA2B,QAA3B,EAAqC,EAArC;AACD,CAHD,MAGO;AACLZ,uBAAqB,IAAIC,aAAa,CAACY,eAAd,CAA8B,QAA9B,CAAzB;AACD;AAED;;;;;;;;AAMA,SAASN,4BAAT,CAAsCS,GAAtC,EAA2C;AACzC;AACAhB,uBAAqB,GAAGgB,GAAxB;AACAf,eAAa,CAACY,eAAd,CAA8B,QAA9B;AACD;AAED;;;;;;;AAKA,SAASR,UAAT,CAAoBW,GAApB,EAAyB;AACvB;AACAhB,uBAAqB,CAACiB,MAAtB,GAFuB,CAGvB;;AACAD,KAAG,CAACE,UAAJ,CAAeN,YAAf,CAA4B,QAA5B,EAAsC,IAAtC,EAJuB,CAMvB;;AACAZ,uBAAqB,CAACmB,UAAtB,CAAiCC,IAAjC,CAAsC,UAAAC,MAAM,EAAI;AAC9C,QAAIA,MAAM,CAACC,OAAP,KAAmB,UAAvB,EAAmC;AACjCZ,aAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6CU,MAA7C;AACD,KAFD,MAEO;AACLX,aAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CU,MAA9C;AACD;;AACDrB,yBAAqB,GAAG,IAAxB;AACD,GAPD;AAQD,C,CAED;;;AACAM,MAAM,CAACF,gBAAP,CAAwB,cAAxB,EAAwCmB,eAAxC;AAEA;;;;;;;AAMA,SAASA,eAAT,CAAyBP,GAAzB,EAA8B;AAC5B;AACAN,SAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDK,GAAjD;AACD,C","file":"install.b9d24002f8218201138b.bundle.js","sourcesContent":["// TODO: if support sw or manifest then show the install button\n\nlet deferredInstallPrompt = null;\nconst installButton = document.getElementById('btnInstall');\ninstallButton.addEventListener('click', installPWA);\n\n// CODELAB: Add event listener for beforeinstallprompt event\nwindow.addEventListener('beforeinstallprompt', saveBeforeInstallPromptEvent);\n\n// hide install button if app installed\nif (window.matchMedia('(display-mode: standalone)').matches) {\n  console.log('display-mode is standalone');\n  installButton.setAttribute('hidden', '');\n} else {\n  deferredInstallPrompt && installButton.removeAttribute('hidden');\n}\n\n// Safari\nif (window.navigator.standalone === true) {\n  console.log('display-mode is standalone');\n  installButton.setAttribute('hidden', '');\n} else {\n  deferredInstallPrompt && installButton.removeAttribute('hidden');\n}\n\n/**\n * Event handler for beforeinstallprompt event.\n *   Saves the event & shows install button.\n *\n * @param {Event} evt\n */\nfunction saveBeforeInstallPromptEvent(evt) {\n  // CODELAB: Add code to save event & show the install button.\n  deferredInstallPrompt = evt;\n  installButton.removeAttribute('hidden');\n}\n\n/**\n * Event handler for btnInstall - Does the PWA installation.\n *\n * @param {Event} evt\n */\nfunction installPWA(evt) {\n  // CODELAB: Add code show install prompt & hide the install button.\n  deferredInstallPrompt.prompt();\n  // Hide the install button, it can't be called twice.\n  evt.srcElement.setAttribute('hidden', true);\n\n  // CODELAB: Log user response to prompt.\n  deferredInstallPrompt.userChoice.then(choice => {\n    if (choice.outcome === 'accepted') {\n      console.log('User accepted the A2HS prompt', choice);\n    } else {\n      console.log('User dismissed the A2HS prompt', choice);\n    }\n    deferredInstallPrompt = null;\n  });\n}\n\n// CODELAB: Add event listener for appinstalled event\nwindow.addEventListener('appinstalled', logAppInstalled);\n\n/**\n * Event handler for appinstalled event.\n *   Log the installation to analytics or save the event somehow.\n *\n * @param {Event} evt\n */\nfunction logAppInstalled(evt) {\n  // CODELAB: Add code to log the event\n  console.log('Larry Homepage App was installed.', evt);\n}\n"],"sourceRoot":""}